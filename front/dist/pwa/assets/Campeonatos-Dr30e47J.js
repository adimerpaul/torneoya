import{Q as q}from"./QSpace-BwcNFRTt.js";import{_ as E,c as b,o as m,w as a,a as e,Q as h,e as c,b as r,ae as C,d,a3 as w,a8 as P,a7 as g,ab as L,t as u,ad as I,f as p,h as F,af as B,a9 as Q,ai as R,F as z,aa as O,aj as T,ak as A,al as M}from"./index-CyiBagph.js";import{Q as U}from"./format-Dbu5b4qL.js";import{Q as D,a as f,b as G}from"./QTable-ChRes9k1.js";import{Q as k}from"./QImg-DE3Fl2vu.js";import{c as N,Q as _,a as s,b as x}from"./QList-yrCZd6TL.js";import{Q as S}from"./QBtnDropdown-ClGP_O68.js";import{Q as j}from"./QFile-Cjd3KkXY.js";import{Q as H}from"./QBanner-w49iy8QC.js";import{Q as J}from"./QForm-Gzwx4hF_.js";import{Q as K}from"./QPage-Ds63GZrV.js";import{C as y}from"./ClosePopup-Dn3O3y_r.js";import"./position-engine-wfXhLJsO.js";const W={name:"CampeonatosPage",data(){return{loading:!1,loadingCategorias:!1,filter:"",dialog:!1,categoriasDialog:!1,categoriaEditorDialog:!1,campeonatos:[],categorias:[],deportes:[],campeonatoPadre:{},form:{id:null,nombre:"",tipo:"unico",deporte:null,descripcion:"",fecha_inicio:"",fecha_fin:"",imagen:null,banner:null,imagen_actual:"torneoImagen.jpg",banner_actual:"torneoBanner.jpg",imagePreview:null,bannerPreview:null},categoriaForm:{id:null,nombre:"",deporte:null,imagen:null,imagePreview:null,imagen_actual:"torneoImagen.jpg"},columns:[{name:"actions",label:"Acciones",align:"center"},{name:"imagen",label:"Imagen",align:"left",field:"imagen"},{name:"nombre",label:"Nombre",align:"left",field:"nombre"},{name:"tipo",label:"Tipo",align:"left",field:"tipo"},{name:"deporte",label:"Deporte",align:"left",field:"deporte"},{name:"codigo",label:"Codigo",align:"left",field:"codigo"},{name:"categorias",label:"Categorias",align:"center",field:"categorias_count"}],categoriaColumns:[{name:"actions",label:"Opciones",align:"left"},{name:"imagen",label:"Imagen",align:"left",field:"imagen"},{name:"nombre",label:"Nombre",align:"left",field:"nombre"},{name:"deporte",label:"Deporte",align:"left",field:"deporte"},{name:"codigo",label:"Codigo",align:"left",field:"codigo"}]}},mounted(){this.cargarDeportes(),this.listar()},methods:{req(i){return!!i||"Campo requerido"},deporteNombre(i){return this.deportes.find(t=>t.key===i)?.nombre||null},deporteIcono(i){return this.deportes.find(t=>t.key===i)?.icono||"emoji_events"},imageSrc(i){return`${this.$url}../../images/${i||"torneoImagen.jpg"}`},onImageSelected(i){this.form.imagePreview&&URL.revokeObjectURL(this.form.imagePreview),this.form.imagePreview=i?URL.createObjectURL(i):null},onBannerSelected(i){this.form.bannerPreview&&URL.revokeObjectURL(this.form.bannerPreview),this.form.bannerPreview=i?URL.createObjectURL(i):null},onCategoriaImageSelected(i){this.categoriaForm.imagePreview&&URL.revokeObjectURL(this.categoriaForm.imagePreview),this.categoriaForm.imagePreview=i?URL.createObjectURL(i):null},resetCategoriaForm(){this.categoriaForm.imagePreview&&URL.revokeObjectURL(this.categoriaForm.imagePreview),this.categoriaForm={id:null,nombre:"",deporte:null,imagen:null,imagePreview:null,imagen_actual:"torneoImagen.jpg"}},openCategoriaEditor(){this.resetCategoriaForm(),this.categoriaEditorDialog=!0},closeCategoriaEditor(){this.categoriaEditorDialog=!1,this.resetCategoriaForm()},cargarDeportes(){this.$axios.get("deportes").then(i=>{this.deportes=i.data||[]}).catch(()=>{this.deportes=[]})},listar(){this.loading=!0,this.$axios.get("campeonatos").then(i=>{this.campeonatos=i.data||[]}).catch(i=>this.$alert.error(i.response?.data?.message||"No se pudo cargar campeonatos")).finally(()=>{this.loading=!1})},resetForm(){this.form={id:null,nombre:"",tipo:"unico",deporte:null,descripcion:"",fecha_inicio:"",fecha_fin:"",imagen:null,banner:null,imagen_actual:"torneoImagen.jpg",banner_actual:"torneoBanner.jpg",imagePreview:null,bannerPreview:null}},nuevo(){this.resetForm(),this.dialog=!0},editar(i){this.form={id:i.id,nombre:i.nombre,tipo:i.tipo==="categoria_item"?"unico":i.tipo,deporte:i.deporte,descripcion:i.descripcion||"",fecha_inicio:i.fecha_inicio||"",fecha_fin:i.fecha_fin||"",imagen:null,banner:null,imagen_actual:i.imagen||"torneoImagen.jpg",banner_actual:i.banner||"torneoBanner.jpg",imagePreview:null,bannerPreview:null},this.dialog=!0},guardar(){if(this.form.tipo==="unico"&&!this.form.deporte){this.$alert.error("Debes elegir un deporte para campeonato unico");return}this.loading=!0;const i=new FormData;i.append("nombre",this.form.nombre),i.append("tipo",this.form.tipo),i.append("descripcion",this.form.descripcion||""),this.form.fecha_inicio&&i.append("fecha_inicio",this.form.fecha_inicio),this.form.fecha_fin&&i.append("fecha_fin",this.form.fecha_fin),this.form.deporte&&i.append("deporte",this.form.deporte),this.form.imagen&&i.append("imagen",this.form.imagen),this.form.banner&&i.append("banner",this.form.banner),(this.form.id?this.$axios.post(`campeonatos/${this.form.id}?_method=PUT`,i,{headers:{"Content-Type":"multipart/form-data"}}):this.$axios.post("campeonatos",i,{headers:{"Content-Type":"multipart/form-data"}})).then(()=>{this.$alert.success("Campeonato guardado"),this.dialog=!1,this.listar()}).catch(V=>this.$alert.error(V.response?.data?.message||"No se pudo guardar")).finally(()=>{this.loading=!1})},eliminar(i){this.$alert.dialog(`Eliminar campeonato ${i.nombre}?`).onOk(()=>{this.loading=!0,this.$axios.delete(`campeonatos/${i.id}`).then(()=>{this.$alert.success("Campeonato eliminado"),this.listar()}).catch(t=>this.$alert.error(t.response?.data?.message||"No se pudo eliminar")).finally(()=>{this.loading=!1})})},abrirPublico(i){this.$router.push(`/c/${i.codigo}`)},abrirCategorias(i){this.campeonatoPadre=i,this.resetCategoriaForm(),this.categoriasDialog=!0,this.cargarCategorias()},editarCategoria(i){this.categoriaForm={id:i.id,nombre:i.nombre,deporte:i.deporte,imagen:null,imagePreview:null,imagen_actual:i.imagen||"torneoImagen.jpg"},this.categoriaEditorDialog=!0},cargarCategorias(){this.campeonatoPadre.id&&(this.loadingCategorias=!0,this.$axios.get(`campeonatos/${this.campeonatoPadre.id}/categorias`).then(i=>{this.categorias=i.data||[]}).catch(i=>this.$alert.error(i.response?.data?.message||"No se pudo cargar categorias")).finally(()=>{this.loadingCategorias=!1}))},guardarCategoria(){if(!this.categoriaForm.nombre||!this.categoriaForm.deporte){this.$alert.error("Nombre y deporte son obligatorios");return}this.loadingCategorias=!0;const i=new FormData;i.append("nombre",this.categoriaForm.nombre),i.append("deporte",this.categoriaForm.deporte),this.categoriaForm.imagen&&i.append("imagen",this.categoriaForm.imagen),(this.categoriaForm.id?this.$axios.post(`campeonatos/${this.campeonatoPadre.id}/categorias/${this.categoriaForm.id}?_method=PUT`,i,{headers:{"Content-Type":"multipart/form-data"}}):this.$axios.post(`campeonatos/${this.campeonatoPadre.id}/categorias`,i,{headers:{"Content-Type":"multipart/form-data"}})).then(()=>{this.$alert.success(this.categoriaForm.id?"Categoria actualizada":"Categoria agregada"),this.closeCategoriaEditor(),this.cargarCategorias(),this.listar()}).catch(V=>this.$alert.error(V.response?.data?.message||"No se pudo agregar categoria")).finally(()=>{this.loadingCategorias=!1})},eliminarCategoria(i){this.$alert.dialog(`Eliminar categoria ${i.nombre}?`).onOk(()=>{this.loadingCategorias=!0,this.$axios.delete(`campeonatos/${this.campeonatoPadre.id}/categorias/${i.id}`).then(()=>{this.$alert.success("Categoria eliminada"),this.cargarCategorias(),this.listar()}).catch(t=>this.$alert.error(t.response?.data?.message||"No se pudo eliminar categoria")).finally(()=>{this.loadingCategorias=!1})})}}},X={class:"row items-center q-gutter-xs"},Y={class:"text-subtitle1 text-weight-bold"},Z={class:"row q-col-gutter-sm q-mb-sm"},$={class:"col-12 col-md-6"},ee={class:"col-12 col-md-6"},ae={key:0,class:"q-mb-sm"},oe={class:"row q-col-gutter-sm"},te={class:"text-caption q-mt-xs"},ie={class:"row q-col-gutter-sm q-mb-sm"},le={class:"col-12 col-md-6"},re={class:"col-12 col-md-6"},ne={class:"row justify-end q-gutter-sm"},se={class:"text-subtitle1 text-weight-bold"},de={class:"row justify-end q-mb-md"},me={class:"row items-center q-gutter-xs"},ce={class:"text-subtitle1 text-weight-bold"},ge={class:"row q-col-gutter-sm q-mb-md"},ue={class:"col-12 col-md-6"},pe={class:"col-12 col-md-6"},fe={class:"row items-center q-gutter-xs"},be={class:"col-12 col-md-6"},he={class:"col-12 col-md-6"},_e={class:"row justify-end q-gutter-sm"};function ve(i,t,V,Ce,l,n){return m(),b(K,{class:"q-pa-md"},{default:a(()=>[e(h,{flat:"",bordered:"",class:"q-mb-md"},{default:a(()=>[e(c,{class:"row items-center"},{default:a(()=>[t[18]||(t[18]=r("div",null,[r("div",{class:"text-h6 text-title"},"Campeonatos"),r("div",{class:"text-caption text-grey-7"},"Crea tus campeonatos")],-1)),e(q),e(C,{modelValue:l.filter,"onUpdate:modelValue":t[0]||(t[0]=o=>l.filter=o),label:"Buscar",dense:"",outlined:"",debounce:"300",style:{width:"280px"}},{append:a(()=>[e(d,{name:"search"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(D,{rows:l.campeonatos,columns:l.columns,"row-key":"id",dense:"",flat:"",bordered:"","wrap-cells":"",filter:l.filter,"rows-per-page-options":[0],loading:l.loading,"loading-label":"Cargando...","no-data-label":"Sin registros"},{"top-right":a(()=>[e(p,{color:"positive",label:"Nuevo campeonato","no-caps":"",icon:"add_circle_outline",class:"q-mr-sm",onClick:n.nuevo},null,8,["onClick"]),e(p,{color:"primary",label:"Actualizar","no-caps":"",icon:"refresh",loading:l.loading,onClick:n.listar},null,8,["loading","onClick"])]),"body-cell-tipo":a(o=>[e(f,{props:o},{default:a(()=>[e(U,{label:o.row.tipo,dense:"","text-color":"white",color:o.row.tipo==="categorias"?"deep-orange":"primary"},null,8,["label","color"])]),_:2},1032,["props"])]),"body-cell-imagen":a(o=>[e(f,{props:o},{default:a(()=>[e(I,{rounded:"",size:"42px"},{default:a(()=>[e(k,{src:n.imageSrc(o.row.imagen||"torneoImagen.jpg")},null,8,["src"])]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-deporte":a(o=>[e(f,{props:o},{default:a(()=>[r("div",X,[o.row.deporte_icono?(m(),b(d,{key:0,name:o.row.deporte_icono,size:"18px"},null,8,["name"])):P("",!0),r("span",null,u(n.deporteNombre(o.row.deporte)||"-"),1)])]),_:2},1032,["props"])]),"body-cell-codigo":a(o=>[e(f,{props:o},{default:a(()=>[e(U,{dense:"",outline:"",color:"indigo"},{default:a(()=>[g(u(o.row.codigo),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-categorias":a(o=>[e(f,{props:o},{default:a(()=>[g(u(o.row.categorias_count||0),1)]),_:2},1032,["props"])]),"body-cell-actions":a(o=>[e(f,{props:o,class:"text-center"},{default:a(()=>[e(S,{label:"Opciones","no-caps":"",size:"10px",dense:"",color:"primary"},{default:a(()=>[e(N,null,{default:a(()=>[w((m(),b(_,{clickable:"",onClick:v=>n.editar(o.row)},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:"edit"})]),_:1}),e(s,null,{default:a(()=>[e(x,null,{default:a(()=>[...t[19]||(t[19]=[g("Editar",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]]),w((m(),b(_,{clickable:"",onClick:v=>n.abrirPublico(o.row)},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:"public"})]),_:1}),e(s,null,{default:a(()=>[e(x,null,{default:a(()=>[...t[20]||(t[20]=[g("Ver publico",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]]),o.row.tipo==="categorias"?w((m(),b(_,{key:0,clickable:"",onClick:v=>n.abrirCategorias(o.row)},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:"category"})]),_:1}),e(s,null,{default:a(()=>[e(x,null,{default:a(()=>[...t[21]||(t[21]=[g("Gestionar categorias",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]]):P("",!0),e(L),w((m(),b(_,{clickable:"",onClick:v=>n.eliminar(o.row)},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:"delete"})]),_:1}),e(s,null,{default:a(()=>[e(x,null,{default:a(()=>[...t[22]||(t[22]=[g("Eliminar",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","loading"]),e(F,{modelValue:l.dialog,"onUpdate:modelValue":t[10]||(t[10]=o=>l.dialog=o),persistent:""},{default:a(()=>[e(h,{style:{width:"720px","max-width":"95vw"}},{default:a(()=>[e(c,{class:"row items-center q-pb-none"},{default:a(()=>[r("div",Y,u(l.form.id?"Editar campeonato":"Nuevo campeonato"),1),e(q),e(p,{icon:"close",flat:"",round:"",dense:"",onClick:t[1]||(t[1]=o=>l.dialog=!1)})]),_:1}),e(c,null,{default:a(()=>[e(J,{onSubmit:B(n.guardar,["prevent"])},{default:a(()=>[e(C,{modelValue:l.form.nombre,"onUpdate:modelValue":t[2]||(t[2]=o=>l.form.nombre=o),label:"Nombre del campeonato",dense:"",outlined:"",class:"q-mb-sm",rules:[n.req]},null,8,["modelValue","rules"]),t[27]||(t[27]=r("div",{class:"q-mb-sm text-caption text-grey-7"},"Tipo de campeonato",-1)),e(R,{modelValue:l.form.tipo,"onUpdate:modelValue":t[3]||(t[3]=o=>l.form.tipo=o),options:[{label:"Unico",value:"unico"},{label:"Multiples categorias",value:"categorias"}],type:"radio",inline:"",class:"q-mb-sm"},null,8,["modelValue"]),e(C,{modelValue:l.form.descripcion,"onUpdate:modelValue":t[4]||(t[4]=o=>l.form.descripcion=o),type:"textarea",autogrow:"",dense:"",outlined:"",label:"Descripcion (opcional)",class:"q-mb-sm"},null,8,["modelValue"]),r("div",Z,[r("div",$,[e(C,{modelValue:l.form.fecha_inicio,"onUpdate:modelValue":t[5]||(t[5]=o=>l.form.fecha_inicio=o),type:"date",dense:"",outlined:"",label:"Fecha inicio"},null,8,["modelValue"])]),r("div",ee,[e(C,{modelValue:l.form.fecha_fin,"onUpdate:modelValue":t[6]||(t[6]=o=>l.form.fecha_fin=o),type:"date",dense:"",outlined:"",label:"Fecha fin"},null,8,["modelValue"])])]),l.form.tipo==="unico"?(m(),Q("div",ae,[t[23]||(t[23]=r("div",{class:"text-caption text-grey-7 q-mb-xs"},"Deporte",-1)),r("div",oe,[(m(!0),Q(z,null,O(l.deportes,o=>(m(),Q("div",{key:o.key,class:"col-6 col-sm-4 col-md-3"},[e(h,{flat:"",bordered:"",class:T(["cursor-pointer sport-card",{"sport-selected":l.form.deporte===o.key}]),onClick:v=>l.form.deporte=o.key},{default:a(()=>[e(c,{class:"q-pa-sm text-center"},{default:a(()=>[e(d,{name:o.icono,size:"24px"},null,8,["name"]),r("div",te,u(o.nombre),1)]),_:2},1024)]),_:2},1032,["class","onClick"])]))),128))])])):P("",!0),e(j,{modelValue:l.form.imagen,"onUpdate:modelValue":[t[7]||(t[7]=o=>l.form.imagen=o),n.onImageSelected],dense:"",outlined:"",label:"Imagen (opcional)",accept:"image/*",class:"q-mb-sm"},null,8,["modelValue","onUpdate:modelValue"]),e(j,{modelValue:l.form.banner,"onUpdate:modelValue":[t[8]||(t[8]=o=>l.form.banner=o),n.onBannerSelected],dense:"",outlined:"",label:"Banner (opcional)",accept:"image/*",class:"q-mb-sm"},null,8,["modelValue","onUpdate:modelValue"]),r("div",ie,[r("div",le,[e(h,{flat:"",bordered:""},{default:a(()=>[e(c,{class:"q-pa-sm"},{default:a(()=>[t[24]||(t[24]=r("div",{class:"text-caption text-grey-7 q-mb-xs"},"Vista previa imagen",-1)),e(k,{src:l.form.imagePreview||n.imageSrc(l.form.imagen_actual||"torneoImagen.jpg"),ratio:"1"},null,8,["src"])]),_:1})]),_:1})]),r("div",re,[e(h,{flat:"",bordered:""},{default:a(()=>[e(c,{class:"q-pa-sm"},{default:a(()=>[t[25]||(t[25]=r("div",{class:"text-caption text-grey-7 q-mb-xs"},"Vista previa banner",-1)),e(k,{src:l.form.bannerPreview||n.imageSrc(l.form.banner_actual||"torneoBanner.jpg"),ratio:16/9},null,8,["src"])]),_:1})]),_:1})])]),e(H,{dense:"",rounded:"",class:"bg-indigo-1 text-indigo-9 q-mb-sm"},{default:a(()=>[...t[26]||(t[26]=[g(" El codigo publico se genera automaticamente con 6 caracteres aleatorios. ",-1)])]),_:1}),r("div",ne,[e(p,{color:"negative",label:"Cancelar","no-caps":"",flat:"",onClick:t[9]||(t[9]=o=>l.dialog=!1),disable:l.loading},null,8,["disable"]),e(p,{color:"primary",label:"Guardar","no-caps":"",type:"submit",loading:l.loading},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(F,{modelValue:l.categoriasDialog,"onUpdate:modelValue":t[13]||(t[13]=o=>l.categoriasDialog=o),persistent:""},{default:a(()=>[e(h,{style:{width:"860px","max-width":"95vw"}},{default:a(()=>[e(c,{class:"row items-center q-pb-none"},{default:a(()=>[r("div",se,"Categorias de "+u(l.campeonatoPadre.nombre),1),e(q),e(p,{icon:"close",flat:"",round:"",dense:"",onClick:t[11]||(t[11]=o=>l.categoriasDialog=!1)})]),_:1}),e(c,null,{default:a(()=>[r("div",de,[e(p,{color:"primary","no-caps":"",label:"Agregar categoria",icon:"add",onClick:t[12]||(t[12]=o=>n.openCategoriaEditor())})]),e(D,{rows:l.categorias,columns:l.categoriaColumns,"row-key":"id",dense:"",flat:"",bordered:"",loading:l.loadingCategorias,"rows-per-page-options":[0],pagination:{rowsPerPage:0}},{"body-cell-deporte":a(o=>[e(f,{props:o},{default:a(()=>[r("div",me,[e(d,{name:n.deporteIcono(o.row.deporte),size:"18px"},null,8,["name"]),r("span",null,u(n.deporteNombre(o.row.deporte)),1)])]),_:2},1032,["props"])]),"body-cell-imagen":a(o=>[e(f,{props:o},{default:a(()=>[e(I,{rounded:"",size:"42px"},{default:a(()=>[e(k,{src:n.imageSrc(o.row.imagen||"torneoImagen.jpg")},null,8,["src"])]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-codigo":a(o=>[e(f,{props:o},{default:a(()=>[e(U,{dense:"",outline:"",color:"indigo"},{default:a(()=>[g(u(o.row.codigo),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-actions":a(o=>[e(f,{props:o,class:"text-left"},{default:a(()=>[e(S,{label:"Opciones","no-caps":"",size:"10px",dense:"",color:"primary"},{default:a(()=>[e(N,null,{default:a(()=>[w((m(),b(_,{clickable:"",onClick:v=>n.editarCategoria(o.row)},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:"edit"})]),_:1}),e(s,null,{default:a(()=>[e(x,null,{default:a(()=>[...t[28]||(t[28]=[g("Modificar",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]]),w((m(),b(_,{clickable:"",onClick:v=>n.eliminarCategoria(o.row)},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:"delete"})]),_:1}),e(s,null,{default:a(()=>[e(x,null,{default:a(()=>[...t[29]||(t[29]=[g("Eliminar",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(F,{modelValue:l.categoriaEditorDialog,"onUpdate:modelValue":t[17]||(t[17]=o=>l.categoriaEditorDialog=o),persistent:""},{default:a(()=>[e(h,{style:{width:"620px","max-width":"95vw"}},{default:a(()=>[e(c,{class:"row items-center q-pb-none"},{default:a(()=>[r("div",ce,u(l.categoriaForm.id?"Modificar categoria":"Nueva categoria"),1),e(q),e(p,{icon:"close",flat:"",round:"",dense:"",onClick:n.closeCategoriaEditor},null,8,["onClick"])]),_:1}),e(c,null,{default:a(()=>[r("div",ge,[r("div",ue,[e(C,{modelValue:l.categoriaForm.nombre,"onUpdate:modelValue":t[14]||(t[14]=o=>l.categoriaForm.nombre=o),dense:"",outlined:"",label:"Nombre categoria"},null,8,["modelValue"])]),r("div",pe,[e(G,{modelValue:l.categoriaForm.deporte,"onUpdate:modelValue":t[15]||(t[15]=o=>l.categoriaForm.deporte=o),dense:"",outlined:"","emit-value":"","map-options":"","option-value":"key","option-label":"nombre",options:l.deportes,label:"Deporte"},{"selected-item":a(o=>[r("div",fe,[e(d,{name:o.opt.icono||"emoji_events",size:"18px"},null,8,["name"]),r("span",null,u(o.opt.nombre),1)])]),option:a(o=>[e(_,A(M(o.itemProps)),{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,{name:o.opt.icono||"emoji_events"},null,8,["name"])]),_:2},1024),e(s,null,{default:a(()=>[g(u(o.opt.nombre),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])]),r("div",be,[e(j,{modelValue:l.categoriaForm.imagen,"onUpdate:modelValue":[t[16]||(t[16]=o=>l.categoriaForm.imagen=o),n.onCategoriaImageSelected],dense:"",outlined:"",label:"Imagen (opcional)",accept:"image/*"},null,8,["modelValue","onUpdate:modelValue"])]),r("div",he,[e(h,{flat:"",bordered:""},{default:a(()=>[e(c,{class:"q-pa-sm"},{default:a(()=>[t[30]||(t[30]=r("div",{class:"text-caption text-grey-7 q-mb-xs"},"Vista previa categoria",-1)),e(k,{src:l.categoriaForm.imagePreview||n.imageSrc(l.categoriaForm.imagen_actual||"torneoImagen.jpg"),ratio:1,style:{"max-height":"110px"}},null,8,["src"])]),_:1})]),_:1})])]),r("div",_e,[e(p,{flat:"",color:"grey-8","no-caps":"",label:"Cancelar",onClick:n.closeCategoriaEditor},null,8,["onClick"]),e(p,{color:"primary","no-caps":"",label:l.categoriaForm.id?"Actualizar categoria":"Agregar categoria",onClick:n.guardarCategoria,loading:l.loadingCategorias},null,8,["label","onClick","loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Ne=E(W,[["render",ve],["__scopeId","data-v-bb8eead1"]]);export{Ne as default};
