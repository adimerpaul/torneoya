import{S as F,z as u,j as d,a5 as M,U as re,ao as ce,an as G,V as de,W as fe,g as X,r as y,X as ge,ap as ve,Y as he,aq as be,a0 as me,ar as Be,p as C,a$ as we,b0 as K,b1 as Se,L as qe,b2 as ye,as as Ce,b3 as Pe,b4 as ke,at as De,m as xe,b5 as Oe,R as Te,b6 as Y,b7 as Ae,b8 as Ee,l as Re,d as Fe,f as R,O as Me}from"./index-C7LII3He.js";import{v as He,a as L,f as Qe,b as Ve,d as _e,p as z,e as je,r as U,s as Ie}from"./position-engine-C-bpIgWK.js";const We=F({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:s}){const o=u(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(a=>e[a]===!0).map(a=>`q-btn-group--${a}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>d("div",{class:o.value},M(s.default))}}),$e=F({name:"QMenu",inheritAttrs:!1,props:{...Qe,...fe,...de,...G,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:L},self:{type:String,validator:L},offset:{type:Array,validator:He},scrollTarget:ce,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...re,"click","escapeKey"],setup(e,{slots:s,emit:o,attrs:l}){let a=null,i,f,v;const w=X(),{proxy:h}=w,{$q:r}=h,c=y(null),g=y(!1),P=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=ge(e,r),{registerTick:D,removeTick:x}=ve(),{registerTimeout:S}=he(),{transitionProps:q,transitionStyle:b}=be(e),{localScrollTarget:n,changeScrollEvent:J,unconfigureScrollTarget:N}=Ve(e,W),{anchorEl:m,canShow:Z}=_e({showing:g}),{hide:H}=me({showing:g,canShow:Z,handleShow:oe,handleHide:ae,hideOnRouteChange:P,processOnMount:!0}),{showPortal:Q,hidePortal:V,renderPortal:p}=Be(w,c,se,"menu"),O={anchorEl:m,innerRef:c,onClickOutside(t){if(e.persistent!==!0&&g.value===!0)return H(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&Te(t),!0}},_=u(()=>z(e.anchor||(e.cover===!0?"center middle":"bottom start"),r.lang.rtl)),ee=u(()=>e.cover===!0?_.value:z(e.self||"top start",r.lang.rtl)),te=u(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),ne=u(()=>e.autoClose===!0?{onClick:le}:{}),j=u(()=>g.value===!0&&e.persistent!==!0);C(j,t=>{t===!0?(we(A),je(O)):(K(A),U(O))});function T(){Oe(()=>{let t=c.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function oe(t){if(a=e.noRefocus===!1?document.activeElement:null,Se($),Q(),W(),i=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const E=qe(t);if(E.left!==void 0){const{top:ue,left:ie}=m.value.getBoundingClientRect();i={left:E.left-ie,top:E.top-ue}}}f===void 0&&(f=C(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,B)),e.noFocus!==!0&&document.activeElement.blur(),D(()=>{B(),e.noFocus!==!0&&T()}),S(()=>{r.platform.is.ios===!0&&(v=e.autoClose,c.value.click()),B(),Q(!0),o("show",t)},e.transitionDuration)}function ae(t){x(),V(),I(!0),a!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t?.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),S(()=>{V(!0),o("hide",t)},e.transitionDuration)}function I(t){i=void 0,f!==void 0&&(f(),f=void 0),(t===!0||g.value===!0)&&(ye($),N(),U(O),K(A)),t!==!0&&(a=null)}function W(){(m.value!==null||e.scrollTarget!==void 0)&&(n.value=Ce(m.value,e.scrollTarget),J(n.value,B))}function le(t){v!==!0?(Pe(h,t),o("click",t)):v=!1}function $(t){j.value===!0&&e.noFocus!==!0&&ke(c.value,t.target)!==!0&&T()}function A(t){e.noEscDismiss!==!0&&(o("escapeKey"),H(t))}function B(){Ie({targetEl:c.value,offset:e.offset,anchorEl:m.value,anchorOrigin:_.value,selfOrigin:ee.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function se(){return d(De,q.value,()=>g.value===!0?d("div",{role:"menu",...l,ref:c,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,l.class],style:[l.style,b.value],...ne.value},M(s.default)):null)}return xe(I),Object.assign(h,{focus:T,updatePosition:B}),p}}),Ke=Object.keys(Y);function Le(e){return Ke.reduce((s,o)=>{const l=e[o];return l!==void 0&&(s[o]=l),s},{})}const Ge=F({name:"QBtnDropdown",props:{...Y,...G,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:s,emit:o}){const{proxy:l}=X(),a=y(e.modelValue),i=y(null),f=Ae(),v=u(()=>{const n={"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":f.value,"aria-label":e.toggleAriaLabel||l.$q.lang.label[a.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(n["aria-disabled"]="true"),n}),w=u(()=>"q-btn-dropdown__arrow"+(a.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),h=u(()=>Ee(e)),r=u(()=>Le(e));C(()=>e.modelValue,n=>{i.value?.[n?"show":"hide"]()}),C(()=>e.split,b);function c(n){a.value=!0,o("beforeShow",n)}function g(n){o("show",n),o("update:modelValue",!0)}function P(n){a.value=!1,o("beforeHide",n)}function k(n){o("hide",n),o("update:modelValue",!1)}function D(n){o("click",n)}function x(n){Me(n),b(),o("click",n)}function S(n){i.value?.toggle(n)}function q(n){i.value?.show(n)}function b(n){i.value?.hide(n)}return Object.assign(l,{show:q,hide:b,toggle:S}),Re(()=>{e.modelValue===!0&&q()}),()=>{const n=[d(Fe,{class:w.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&n.push(d($e,{ref:i,id:f.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:c,onShow:g,onBeforeHide:P,onHide:k},s.default)),e.split===!1?d(R,{class:"q-btn-dropdown q-btn-dropdown--simple",...r.value,...v.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:D},{default:()=>M(s.label,[]).concat(n),loading:s.loading}):d(We,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...h.value,glossy:e.glossy,stretch:e.stretch},()=>[d(R,{class:"q-btn-dropdown--current",...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:x},{default:s.label,loading:s.loading}),d(R,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...v.value,...h.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>n)])}}});export{Ge as Q,$e as a};
