import{Q as L}from"./QSpace-CghvMLQs.js";import{_ as Q,c as F,o as _,w as d,a as t,Q as y,e as U,b as i,a6 as T,aa as s,a3 as C,a1 as N,a8 as k,a2 as g,t as b,ad as z,ae as I,ab as u,f as p,a4 as q,a5 as S,ac as j}from"./index-CmoW1HI-.js";import{Q as A,a as w,b as R,c as f}from"./QTabPanels-Dg0DOsdH.js";import{Q as h}from"./QImg-BFhzNBj4.js";import{a as E,b as x}from"./QMenu-j9-YnpjT.js";import{Q as M}from"./QItemLabel-BiiYZsTs.js";import{Q as G}from"./QSelect-YWvpHr97.js";import{Q as D}from"./QChip-B_XB_8XG.js";import{Q as P}from"./QForm-I0BS1mnk.js";import{Q as O}from"./QPage-Dl-a7fNa.js";import{L as m}from"./leaflet-PeQDVTDL.js";import{m as Z,a as B,b as W}from"./marker-shadow-Cv-YfD74.js";import"./QResizeObserver-CGW9aATI.js";import"./touch-BjYP5sR0.js";import"./format-CJebrXOQ.js";import"./_commonjsHelpers-Bx2EM-6T.js";const v=[-17.967,-67.106];m.Icon.Default.mergeOptions({iconRetinaUrl:W,iconUrl:B,shadowUrl:Z});const H=m.divIcon({className:"cliente-marker-wrap",html:'<div class="cliente-marker-pin"></div>',iconSize:[28,28],iconAnchor:[14,14]}),J=()=>({nombre:"",nit:"",ci:"",telefono:"",direccion:"",complemento:"",codigoTipoDocumentoIdentidad:"",email:"",id_externo:"",cod_ciudad:"",cod_nacio:"",cod_car:null,est_civ:"",edad:"",empresa:"",categoria:null,imp_pieza:null,ci_vend:"",list_blanck:!1,motivo_list_black:"",list_black:!1,tipo_paciente:"",supra_canal:"",canal:"",subcanal:"",zona:"",latitud:v[0],longitud:v[1],transporte:"",territorio:"",codcli:null,clinew:"",venta_estado:"ACTIVO",complto:"",tipodocu:null,lu:!1,ma:!1,mi:!1,ju:!1,vi:!1,sa:!1,do:!1,correcli:"",canmayni:!1,baja:!1,profecion:"",waths:!1,ctas_activo:!1,ctas_mont:null,ctas_dias:null,sexo:"",noesempre:!1,tarjeta:"",fotos:[]}),K={name:"AltaClientePage",data(){return{loading:!1,tab:"basico",cliente:J(),previewFotos:[],map:null,marker:null,layersControl:null,mapReady:!1,vendedores:[]}},mounted(){this.vendedoresGet()},watch:{tab(n){n==="ubicacion"&&this.$nextTick(()=>this.initMap())},"cliente.latitud"(){this.syncMarkerFromModel()},"cliente.longitud"(){this.syncMarkerFromModel()}},methods:{vendedorAvatarUrl(n){const e=n?.avatar||"default.png";return`${this.$url}../images/${e}`},fotoUrl(n){return n?n.startsWith("blob:")?n:`${this.$url}../${n}`:""},async vendedoresGet(){try{const n=await this.$axios.get("users"),e=Array.isArray(n.data)?n.data:[];this.vendedores=e.filter(a=>!!a?.username).map(a=>({id:a.id,name:a.name||a.username,username:a.username,avatar:a.avatar||"default.png",label:`${a.name||a.username} (@${a.username})`}))}catch{this.vendedores=[]}},initMap(){if(!this.$refs.mapRef)return;const n=this.hasValidCoordinates(),e=n?Number(this.cliente.latitud):v[0],a=n?Number(this.cliente.longitud):v[1];if(!this.map){this.map=m.map(this.$refs.mapRef,{center:[e,a],zoom:n?15:13});const r=m.tileLayer("https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}",{attribution:"Map data © Google",maxZoom:21}),o=m.tileLayer("https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{attribution:"Map data © Google",maxZoom:21}),c=m.tileLayer("https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",{attribution:"Map data © Google",maxZoom:21}),l=m.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors",maxZoom:19});r.addTo(this.map),this.layersControl=m.control.layers({"Google Calle":r,"Google Satelite":o,"Google Hibrido":c,OpenStreetMap:l}).addTo(this.map),this.map.on("click",V=>{this.setLatLng(V.latlng.lat,V.latlng.lng,!1)})}this.map.invalidateSize(),this.map.setView([e,a],n?15:13),this.syncMarkerFromModel(),this.mapReady=!0},hasValidCoordinates(){const n=Number(this.cliente.latitud),e=Number(this.cliente.longitud);return Number.isFinite(n)&&Number.isFinite(e)},coordsLabel(){return this.hasValidCoordinates()?`Lat: ${Number(this.cliente.latitud).toFixed(6)} | Lng: ${Number(this.cliente.longitud).toFixed(6)}`:"Sin coordenadas"},setLatLng(n,e,a=!0){this.cliente.latitud=Number(n.toFixed(7)),this.cliente.longitud=Number(e.toFixed(7)),this.syncMarkerFromModel(a)},syncMarkerFromModel(n=!1){if(!this.map)return;if(!this.hasValidCoordinates()){this.marker&&(this.map.removeLayer(this.marker),this.marker=null);return}const e=[Number(this.cliente.latitud),Number(this.cliente.longitud)];this.marker?this.marker.setLatLng(e):(this.marker=m.marker(e,{draggable:!0,icon:H}).addTo(this.map),this.marker.on("dragend",a=>{const r=a.target.getLatLng();this.setLatLng(r.lat,r.lng,!1)})),n&&this.map.flyTo(e,Math.max(this.map.getZoom(),15))},centerMap(){!this.map||!this.hasValidCoordinates()||this.syncMarkerFromModel(!0)},goToOruro(){this.setLatLng(v[0],v[1],!0)},openGoogleMaps(){if(!this.hasValidCoordinates())return;const n=Number(this.cliente.latitud),e=Number(this.cliente.longitud);window.open(`https://www.google.com/maps/search/?api=1&query=${n},${e}`,"_blank")},useCurrentLocation(){if(!navigator.geolocation){this.$alert.error("Geolocalizacion no disponible");return}navigator.geolocation.getCurrentPosition(n=>{this.setLatLng(n.coords.latitude,n.coords.longitude,!0)},()=>this.$alert.error("No se pudo obtener ubicacion"))},onFotosChange(n){const e=Array.from(n.target.files||[]),a=this.previewFotos.length,r=Math.max(0,3-a),o=e.slice(0,r);o.forEach(l=>{l.__preview=URL.createObjectURL(l),this.previewFotos.push(l.__preview)});const c=this.cliente.fotos_files||[];this.cliente.fotos_files=[...c,...o]},removeFoto(n){const e=this.previewFotos[n];if(typeof e=="string"&&e.startsWith("blob:")){URL.revokeObjectURL(e);const a=this.cliente.fotos_files||[],r=this.previewFotos.slice(0,n).filter(o=>o.startsWith("blob:")).length;a.splice(r,1),this.cliente.fotos_files=a}else{const a=this.cliente.remove_fotos||[];a.push(e),this.cliente.remove_fotos=a}this.previewFotos.splice(n,1)},async guardarCliente(){this.loading=!0,this.cliente.ci_vend=this.$store.getters["auth/user"].ci||"";try{const n=new FormData,e=this.cliente;["nombre","nit","ci","telefono","direccion","complemento","codigoTipoDocumentoIdentidad","email","id_externo","cod_ciudad","cod_nacio","cod_car","est_civ","edad","empresa","categoria","imp_pieza","ci_vend","list_blanck","motivo_list_black","list_black","tipo_paciente","supra_canal","canal","subcanal","zona","latitud","longitud","transporte","territorio","codcli","clinew","venta_estado","complto","tipodocu","lu","ma","mi","ju","vi","sa","do","correcli","canmayni","baja","profecion","waths","ctas_activo","ctas_mont","ctas_dias","sexo","noesempre","tarjeta"].forEach(r=>{e[r]!==void 0&&e[r]!==null&&(typeof e[r]=="boolean"?n.append(r,e[r]?"1":"0"):n.append(r,e[r]))}),(e.remove_fotos||[]).forEach((r,o)=>n.append(`remove_fotos[${o}]`,r)),(e.fotos_files||[]).forEach((r,o)=>n.append(`fotos[${o}]`,r)),await this.$axios.post("clientes",n,{headers:{"Content-Type":"multipart/form-data"}}),this.$alert.success("Cliente creado"),this.$router.back()}catch(n){this.$alert.error(n.response?.data?.message||"No se pudo guardar cliente")}finally{this.loading=!1}}},beforeUnmount(){this.map&&(this.map.remove(),this.map=null,this.marker=null,this.layersControl=null)}},X={class:"row q-col-gutter-sm"},Y={class:"col-12 col-md-4"},$={class:"col-12 col-md-2"},ee={class:"col-12 col-md-2"},le={class:"col-12 col-md-2"},oe={class:"col-12 col-md-2"},te={class:"col-12 col-md-2"},ie={class:"col-12 col-md-3"},ne={class:"col-12 col-md-3"},se={class:"col-12 col-md-6"},ae={class:"col-12 col-md-3"},de={class:"col-12 col-md-3"},re={class:"col-12 col-md-2"},ce={class:"col-12 col-md-2"},ue={class:"col-12 col-md-2"},me={class:"col-12 col-md-2"},pe={class:"col-12 col-md-2"},be={class:"col-12 col-md-2"},ve={class:"row q-col-gutter-sm"},Ve={class:"col-12 col-md-2"},fe={class:"col-12 col-md-2"},_e={class:"col-12 col-md-2"},ge={class:"col-12 col-md-2"},he={class:"col-12 col-md-6"},ye={class:"row items-center no-wrap q-gutter-sm"},Ue={class:"ellipsis"},Ce={class:"text-grey-7"},ke={key:0,class:"col-12 col-md-6"},we={class:"q-ml-sm"},xe={class:"text-weight-medium"},Me={class:"text-caption text-grey-7"},Le={class:"col-12 col-md-2"},Qe={class:"col-12 col-md-3"},Fe={class:"col-12 col-md-3"},Te={class:"col-12 col-md-3"},Ne={class:"col-12 col-md-3"},ze={class:"col-12 col-md-3"},Ie={class:"col-12 col-md-3"},qe={class:"col-12 col-md-3"},Se={class:"col-12 col-md-3"},je={class:"col-12 col-md-3"},Ae={class:"col-12 col-md-3"},Re={class:"row q-col-gutter-sm"},Ee={class:"col-12 col-md-3"},Ge={class:"col-12 col-md-3"},De={class:"col-12 col-md-3"},Pe={class:"col-12 col-md-3"},Oe={class:"col-12 row q-col-gutter-sm"},Ze={class:"col-auto"},Be={class:"col-auto"},We={class:"col-auto"},He={class:"col-auto"},Je={class:"col-auto"},Ke={class:"col-auto"},Xe={class:"col-auto"},Ye={class:"col-12 row q-col-gutter-sm"},$e={class:"col-auto"},el={class:"col-auto"},ll={class:"col-auto"},ol={class:"col-auto"},tl={class:"col-auto"},il={class:"col-auto"},nl={class:"col-auto"},sl={class:"row q-col-gutter-sm"},al={class:"col-12 col-md-3"},dl={class:"col-12 col-md-3"},rl={class:"col-12 col-md-2"},cl={class:"col-12 col-md-2"},ul={class:"col-12 col-md-2"},ml={class:"col-12 col-md-6"},pl={class:"col-12"},bl={class:"col-12"},vl={ref:"mapRef",class:"map-canvas"},Vl={class:"row q-col-gutter-sm"},fl={class:"col-12"},_l={class:"col-12 row q-col-gutter-sm"},gl={class:"text-right q-mt-md"};function hl(n,e,a,r,o,c){return _(),F(O,{class:"q-pa-sm"},{default:d(()=>[t(y,{flat:"",bordered:""},{default:d(()=>[t(U,{class:"row items-center q-pb-none"},{default:d(()=>[e[58]||(e[58]=i("div",{class:"text-h6"},"Nuevo cliente",-1)),t(L)]),_:1}),t(U,null,{default:d(()=>[t(P,{onSubmit:c.guardarCliente},{default:d(()=>[t(A,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=l=>o.tab=l),dense:"","active-color":"primary",align:"left",class:"text-grey-8"},{default:d(()=>[t(w,{name:"basico",label:"Basico"}),t(w,{name:"ubicacion",label:"Ubicacion"}),t(w,{name:"fotos",label:"Fotos"})]),_:1},8,["modelValue"]),t(T,{class:"q-my-sm"}),t(R,{modelValue:o.tab,"onUpdate:modelValue":e[56]||(e[56]=l=>o.tab=l),animated:""},{default:d(()=>[t(f,{name:"basico"},{default:d(()=>[i("div",X,[i("div",Y,[t(s,{modelValue:o.cliente.nombre,"onUpdate:modelValue":e[1]||(e[1]=l=>o.cliente.nombre=l),label:"Nombre",dense:"",outlined:"",rules:[l=>!!l||"Requerido"]},null,8,["modelValue","rules"])]),i("div",$,[t(s,{modelValue:o.cliente.ci,"onUpdate:modelValue":e[2]||(e[2]=l=>o.cliente.ci=l),label:"CI",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ee,[t(s,{modelValue:o.cliente.nit,"onUpdate:modelValue":e[3]||(e[3]=l=>o.cliente.nit=l),label:"NIT",dense:"",outlined:""},null,8,["modelValue"])]),i("div",le,[t(s,{modelValue:o.cliente.complemento,"onUpdate:modelValue":e[4]||(e[4]=l=>o.cliente.complemento=l),label:"Complemento",dense:"",outlined:""},null,8,["modelValue"])]),i("div",oe,[t(s,{modelValue:o.cliente.codigoTipoDocumentoIdentidad,"onUpdate:modelValue":e[5]||(e[5]=l=>o.cliente.codigoTipoDocumentoIdentidad=l),label:"Tipo doc",dense:"",outlined:""},null,8,["modelValue"])]),i("div",te,[t(s,{modelValue:o.cliente.id_externo,"onUpdate:modelValue":e[6]||(e[6]=l=>o.cliente.id_externo=l),label:"ID externo",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ie,[t(s,{modelValue:o.cliente.telefono,"onUpdate:modelValue":e[7]||(e[7]=l=>o.cliente.telefono=l),label:"Telefono",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ne,[t(s,{modelValue:o.cliente.email,"onUpdate:modelValue":e[8]||(e[8]=l=>o.cliente.email=l),label:"Email",dense:"",outlined:"",type:"email"},null,8,["modelValue"])]),i("div",se,[t(s,{modelValue:o.cliente.direccion,"onUpdate:modelValue":e[9]||(e[9]=l=>o.cliente.direccion=l),label:"Direccion",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ae,[t(s,{modelValue:o.cliente.empresa,"onUpdate:modelValue":e[10]||(e[10]=l=>o.cliente.empresa=l),label:"Empresa",dense:"",outlined:""},null,8,["modelValue"])]),i("div",de,[t(s,{modelValue:o.cliente.profecion,"onUpdate:modelValue":e[11]||(e[11]=l=>o.cliente.profecion=l),label:"Profesion",dense:"",outlined:""},null,8,["modelValue"])]),i("div",re,[t(s,{modelValue:o.cliente.sexo,"onUpdate:modelValue":e[12]||(e[12]=l=>o.cliente.sexo=l),label:"Sexo",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ce,[t(s,{modelValue:o.cliente.edad,"onUpdate:modelValue":e[13]||(e[13]=l=>o.cliente.edad=l),label:"Edad",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ue,[t(s,{modelValue:o.cliente.est_civ,"onUpdate:modelValue":e[14]||(e[14]=l=>o.cliente.est_civ=l),label:"Estado civil",dense:"",outlined:""},null,8,["modelValue"])]),i("div",me,[t(s,{modelValue:o.cliente.cod_ciudad,"onUpdate:modelValue":e[15]||(e[15]=l=>o.cliente.cod_ciudad=l),label:"Cod ciudad",dense:"",outlined:""},null,8,["modelValue"])]),i("div",pe,[t(s,{modelValue:o.cliente.cod_nacio,"onUpdate:modelValue":e[16]||(e[16]=l=>o.cliente.cod_nacio=l),label:"Cod nacio",dense:"",outlined:""},null,8,["modelValue"])]),i("div",be,[t(s,{modelValue:o.cliente.tipodocu,"onUpdate:modelValue":e[17]||(e[17]=l=>o.cliente.tipodocu=l),modelModifiers:{number:!0},label:"Tipo documento",dense:"",outlined:"",type:"number"},null,8,["modelValue"])])])]),_:1}),t(f,{name:"comercial"},{default:d(()=>[i("div",ve,[i("div",Ve,[t(s,{modelValue:o.cliente.cod_car,"onUpdate:modelValue":e[18]||(e[18]=l=>o.cliente.cod_car=l),modelModifiers:{number:!0},label:"Cod car",dense:"",outlined:"",type:"number"},null,8,["modelValue"])]),i("div",fe,[t(s,{modelValue:o.cliente.categoria,"onUpdate:modelValue":e[19]||(e[19]=l=>o.cliente.categoria=l),modelModifiers:{number:!0},label:"Categoria",dense:"",outlined:"",type:"number"},null,8,["modelValue"])]),i("div",_e,[t(s,{modelValue:o.cliente.codcli,"onUpdate:modelValue":e[20]||(e[20]=l=>o.cliente.codcli=l),modelModifiers:{number:!0},label:"Cod cliente",dense:"",outlined:"",type:"number"},null,8,["modelValue"])]),i("div",ge,[t(s,{modelValue:o.cliente.clinew,"onUpdate:modelValue":e[21]||(e[21]=l=>o.cliente.clinew=l),label:"Cli new",dense:"",outlined:""},null,8,["modelValue"])]),i("div",he,[t(G,{modelValue:o.cliente.ci_vend,"onUpdate:modelValue":e[22]||(e[22]=l=>o.cliente.ci_vend=l),options:o.vendedores,"option-label":"label","option-value":"username","emit-value":"","map-options":"",clearable:"",dense:"",outlined:"",label:"CVENT vendedor (Usuario)"},{option:d(l=>[t(E,z(I(l.itemProps)),{default:d(()=>[t(x,{avatar:""},{default:d(()=>[t(k,{size:"28px"},{default:d(()=>[t(h,{src:c.vendedorAvatarUrl(l.opt)},null,8,["src"])]),_:2},1024)]),_:2},1024),t(x,null,{default:d(()=>[t(M,null,{default:d(()=>[g(b(l.opt?.name||"Sin nombre"),1)]),_:2},1024),t(M,{caption:""},{default:d(()=>[g("@"+b(l.opt?.username||""),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":d(l=>[i("div",ye,[t(k,{size:"24px"},{default:d(()=>[t(h,{src:c.vendedorAvatarUrl(l.opt)},null,8,["src"])]),_:2},1024),i("div",Ue,[g(b(l.opt?.name||o.cliente.ci_vend)+" ",1),i("span",Ce,"@"+b(l.opt?.username||o.cliente.ci_vend),1)])])]),_:1},8,["modelValue","options"])]),o.cliente.ci_vend?(_(),C("div",ke,[t(y,{flat:"",bordered:"",class:"seller-card"},{default:d(()=>[t(U,{class:"row items-center q-pa-sm"},{default:d(()=>[t(k,{size:"42px"},{default:d(()=>[t(h,{src:c.vendedorAvatarUrl(o.vendedores.find(l=>l.username===o.cliente.ci_vend))},null,8,["src"])]),_:1}),i("div",we,[i("div",xe,b(o.vendedores.find(l=>l.username===o.cliente.ci_vend)?.name||o.cliente.ci_vend),1),i("div",Me,"@"+b(o.cliente.ci_vend),1)])]),_:1})]),_:1})])):N("",!0),i("div",Le,[t(s,{modelValue:o.cliente.imp_pieza,"onUpdate:modelValue":e[23]||(e[23]=l=>o.cliente.imp_pieza=l),modelModifiers:{number:!0},label:"Imp pieza",dense:"",outlined:"",type:"number",step:"0.01"},null,8,["modelValue"])]),i("div",Qe,[t(s,{modelValue:o.cliente.supra_canal,"onUpdate:modelValue":e[24]||(e[24]=l=>o.cliente.supra_canal=l),label:"Supra canal",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Fe,[t(s,{modelValue:o.cliente.canal,"onUpdate:modelValue":e[25]||(e[25]=l=>o.cliente.canal=l),label:"Canal",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Te,[t(s,{modelValue:o.cliente.subcanal,"onUpdate:modelValue":e[26]||(e[26]=l=>o.cliente.subcanal=l),label:"Subcanal",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Ne,[t(s,{modelValue:o.cliente.zona,"onUpdate:modelValue":e[27]||(e[27]=l=>o.cliente.zona=l),label:"Zona",dense:"",outlined:""},null,8,["modelValue"])]),i("div",ze,[t(s,{modelValue:o.cliente.territorio,"onUpdate:modelValue":e[28]||(e[28]=l=>o.cliente.territorio=l),label:"Territorio",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Ie,[t(s,{modelValue:o.cliente.transporte,"onUpdate:modelValue":e[29]||(e[29]=l=>o.cliente.transporte=l),label:"Transporte",dense:"",outlined:""},null,8,["modelValue"])]),i("div",qe,[t(s,{modelValue:o.cliente.venta_estado,"onUpdate:modelValue":e[30]||(e[30]=l=>o.cliente.venta_estado=l),label:"Estado venta",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Se,[t(s,{modelValue:o.cliente.complto,"onUpdate:modelValue":e[31]||(e[31]=l=>o.cliente.complto=l),label:"Completo",dense:"",outlined:""},null,8,["modelValue"])]),i("div",je,[t(s,{modelValue:o.cliente.tarjeta,"onUpdate:modelValue":e[32]||(e[32]=l=>o.cliente.tarjeta=l),label:"Tarjeta",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Ae,[t(s,{modelValue:o.cliente.tipo_paciente,"onUpdate:modelValue":e[33]||(e[33]=l=>o.cliente.tipo_paciente=l),label:"Tipo paciente",dense:"",outlined:""},null,8,["modelValue"])])])]),_:1}),t(f,{name:"visita"},{default:d(()=>[i("div",Re,[i("div",Ee,[t(s,{modelValue:o.cliente.correcli,"onUpdate:modelValue":e[34]||(e[34]=l=>o.cliente.correcli=l),label:"Correo alterno",dense:"",outlined:""},null,8,["modelValue"])]),i("div",Ge,[t(s,{modelValue:o.cliente.ctas_mont,"onUpdate:modelValue":e[35]||(e[35]=l=>o.cliente.ctas_mont=l),modelModifiers:{number:!0},label:"Monto ctas",dense:"",outlined:"",type:"number",step:"0.01"},null,8,["modelValue"])]),i("div",De,[t(s,{modelValue:o.cliente.ctas_dias,"onUpdate:modelValue":e[36]||(e[36]=l=>o.cliente.ctas_dias=l),modelModifiers:{number:!0},label:"Dias ctas",dense:"",outlined:"",type:"number"},null,8,["modelValue"])]),i("div",Pe,[t(s,{modelValue:o.cliente.motivo_list_black,"onUpdate:modelValue":e[37]||(e[37]=l=>o.cliente.motivo_list_black=l),label:"Motivo lista negra",dense:"",outlined:""},null,8,["modelValue"])]),e[59]||(e[59]=i("div",{class:"col-12 q-mt-sm text-subtitle2"},"Dias de visita",-1)),i("div",Oe,[i("div",Ze,[t(u,{modelValue:o.cliente.lu,"onUpdate:modelValue":e[38]||(e[38]=l=>o.cliente.lu=l),label:"Lun"},null,8,["modelValue"])]),i("div",Be,[t(u,{modelValue:o.cliente.ma,"onUpdate:modelValue":e[39]||(e[39]=l=>o.cliente.ma=l),label:"Mar"},null,8,["modelValue"])]),i("div",We,[t(u,{modelValue:o.cliente.mi,"onUpdate:modelValue":e[40]||(e[40]=l=>o.cliente.mi=l),label:"Mie"},null,8,["modelValue"])]),i("div",He,[t(u,{modelValue:o.cliente.ju,"onUpdate:modelValue":e[41]||(e[41]=l=>o.cliente.ju=l),label:"Jue"},null,8,["modelValue"])]),i("div",Je,[t(u,{modelValue:o.cliente.vi,"onUpdate:modelValue":e[42]||(e[42]=l=>o.cliente.vi=l),label:"Vie"},null,8,["modelValue"])]),i("div",Ke,[t(u,{modelValue:o.cliente.sa,"onUpdate:modelValue":e[43]||(e[43]=l=>o.cliente.sa=l),label:"Sab"},null,8,["modelValue"])]),i("div",Xe,[t(u,{modelValue:o.cliente.do,"onUpdate:modelValue":e[44]||(e[44]=l=>o.cliente.do=l),label:"Dom"},null,8,["modelValue"])])]),e[60]||(e[60]=i("div",{class:"col-12 q-mt-sm text-subtitle2"},"Estados / Flags",-1)),i("div",Ye,[i("div",$e,[t(u,{modelValue:o.cliente.list_black,"onUpdate:modelValue":e[45]||(e[45]=l=>o.cliente.list_black=l),label:"Lista negra"},null,8,["modelValue"])]),i("div",el,[t(u,{modelValue:o.cliente.list_blanck,"onUpdate:modelValue":e[46]||(e[46]=l=>o.cliente.list_blanck=l),label:"Lista blanca"},null,8,["modelValue"])]),i("div",ll,[t(u,{modelValue:o.cliente.canmayni,"onUpdate:modelValue":e[47]||(e[47]=l=>o.cliente.canmayni=l),label:"Can mayni"},null,8,["modelValue"])]),i("div",ol,[t(u,{modelValue:o.cliente.baja,"onUpdate:modelValue":e[48]||(e[48]=l=>o.cliente.baja=l),label:"Baja"},null,8,["modelValue"])]),i("div",tl,[t(u,{modelValue:o.cliente.waths,"onUpdate:modelValue":e[49]||(e[49]=l=>o.cliente.waths=l),label:"WhatsApp"},null,8,["modelValue"])]),i("div",il,[t(u,{modelValue:o.cliente.ctas_activo,"onUpdate:modelValue":e[50]||(e[50]=l=>o.cliente.ctas_activo=l),label:"Ctas activo"},null,8,["modelValue"])]),i("div",nl,[t(u,{modelValue:o.cliente.noesempre,"onUpdate:modelValue":e[51]||(e[51]=l=>o.cliente.noesempre=l),label:"No es empresa"},null,8,["modelValue"])])])])]),_:1}),t(f,{name:"ubicacion"},{default:d(()=>[i("div",sl,[i("div",al,[t(s,{modelValue:o.cliente.latitud,"onUpdate:modelValue":e[52]||(e[52]=l=>o.cliente.latitud=l),modelModifiers:{number:!0},label:"Latitud",dense:"",outlined:"",type:"number",step:"0.0000001"},null,8,["modelValue"])]),i("div",dl,[t(s,{modelValue:o.cliente.longitud,"onUpdate:modelValue":e[53]||(e[53]=l=>o.cliente.longitud=l),modelModifiers:{number:!0},label:"Longitud",dense:"",outlined:"",type:"number",step:"0.0000001"},null,8,["modelValue"])]),i("div",rl,[t(p,{color:"primary","no-caps":"",label:"Centrar",class:"full-width",onClick:c.centerMap},null,8,["onClick"])]),i("div",cl,[t(p,{color:"secondary","no-caps":"",label:"Mi ubicacion",class:"full-width",onClick:c.useCurrentLocation},null,8,["onClick"])]),i("div",ul,[t(p,{color:"teal","no-caps":"",label:"Oruro centro",class:"full-width",onClick:c.goToOruro},null,8,["onClick"])]),i("div",ml,[t(p,{color:"info","no-caps":"",icon:"open_in_new",label:"Abrir en Google Maps",class:"full-width",disable:!c.hasValidCoordinates(),onClick:c.openGoogleMaps},null,8,["disable","onClick"])]),i("div",pl,[t(D,{outline:"",color:"primary",icon:"place"},{default:d(()=>[g(b(c.coordsLabel()),1)]),_:1})]),i("div",bl,[i("div",vl,null,512),e[61]||(e[61]=i("div",{class:"text-caption q-mt-xs"},"Click en el mapa o arrastra el marcador para actualizar coordenadas.",-1))])])]),_:1}),t(f,{name:"fotos"},{default:d(()=>[i("div",Vl,[i("div",fl,[t(p,{color:"primary","no-caps":"",icon:"photo_camera",label:"Agregar fotos (max. 3)",onClick:e[54]||(e[54]=l=>n.$refs.fotosInput.click())}),i("input",{ref:"fotosInput",type:"file",accept:"image/*",multiple:"",style:{display:"none"},onChange:e[55]||(e[55]=(...l)=>c.onFotosChange&&c.onFotosChange(...l))},null,544)]),e[62]||(e[62]=i("div",{class:"col-12 text-caption"},"Puedes cargar hasta 3 fotos del lugar.",-1)),i("div",_l,[(_(!0),C(q,null,S(o.previewFotos,(l,V)=>(_(),C("div",{class:"col-6 col-md-3",key:V},[t(y,{flat:"",bordered:""},{default:d(()=>[t(h,{src:c.fotoUrl(l),style:{height:"130px"},fit:"cover"},null,8,["src"]),t(j,{align:"right"},{default:d(()=>[t(p,{flat:"",dense:"",color:"negative",icon:"delete",onClick:yl=>c.removeFoto(V)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])])]),_:1})]),_:1},8,["modelValue"]),i("div",gl,[t(p,{flat:"","no-caps":"",label:"Cancelar",color:"grey-8",onClick:e[57]||(e[57]=l=>n.$router.back()),loading:o.loading},null,8,["loading"]),t(p,{color:"primary","no-caps":"",label:"Guardar",type:"submit",class:"q-ml-sm",loading:o.loading},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const Al=Q(K,[["render",hl],["__scopeId","data-v-bdc24030"]]);export{Al as default};
