import{v as ae,x as b,j as L,y as ye,g as we,z as Ee,A as H,B as Ae,r as Q,p as C,m as ke,C as lt,E as it,F as ce,G as U,H as fe,I as nt,J,K as ge,L as Se,M as ve,O as st,P as ut,R as dt,S as ct,T as ft,U as vt,V as mt,W as pt,X as ht,Y as bt,q as Be,l as Ne,Z as X,$ as Qe,a0 as gt,c as D,o as B,w as s,a as u,b as A,f as ze,t as V,u as yt,a1 as G,a2 as x,a3 as me,a4 as pe,a5 as Me,a6 as wt,d as Z,a7 as kt,a8 as Pe,a9 as De}from"./index-CmoW1HI-.js";import{Q as Ct}from"./QBadge-CyZorIy0.js";import{Q as _t}from"./QTooltip-BdRl0rZg.js";import{Q as F}from"./QItemLabel-BiiYZsTs.js";import{c as xt,Q as qt,a as N,b as M}from"./QMenu-j9-YnpjT.js";import{Q as Le}from"./QList-MksEbVq0.js";import{Q as Te}from"./QImg-BFhzNBj4.js";import{Q as Oe}from"./QChip-B_XB_8XG.js";import{C as ee,Q as $t}from"./ClosePopup-veQafRnd.js";import{Q as St}from"./QResizeObserver-CGW9aATI.js";import{g as Ve,s as Fe}from"./touch-BjYP5sR0.js";import{b as te}from"./format-CJebrXOQ.js";import{Q as Bt,a as Qt}from"./QLayout-CH5Po3ak.js";const zt=ae({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:l}){const d=b(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>L("div",{class:d.value},ye(l.default))}}),Mt=ae({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:l}){const d=b(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>L("div",{class:d.value,role:"toolbar"},ye(l.default))}}),Pt=ae({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:l,emit:d}){const{proxy:{$q:k}}=we(),e=Ee(Ae,H);if(e===H)return console.error("QHeader needs to be child of QLayout"),H;const o=Q(parseInt(t.heightHint,10)),c=Q(!0),g=b(()=>t.reveal===!0||e.view.value.indexOf("H")!==-1||k.platform.is.ios&&e.isContainer.value===!0),y=b(()=>{if(t.modelValue!==!0)return 0;if(g.value===!0)return c.value===!0?o.value:0;const v=o.value-e.scroll.value.position;return v>0?v:0}),m=b(()=>t.modelValue!==!0||g.value===!0&&c.value!==!0),r=b(()=>t.modelValue===!0&&m.value===!0&&t.reveal===!0),f=b(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(m.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),n=b(()=>{const v=e.rows.value.top,z={};return v[0]==="l"&&e.left.space===!0&&(z[k.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),v[2]==="r"&&e.right.space===!0&&(z[k.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),z});function h(v,z){e.update("header",v,z)}function i(v,z){v.value!==z&&(v.value=z)}function q({height:v}){i(o,v),h("size",v)}function _(v){r.value===!0&&i(c,!0),d("focusin",v)}C(()=>t.modelValue,v=>{h("space",v),i(c,!0),e.animate()}),C(y,v=>{h("offset",v)}),C(()=>t.reveal,v=>{v===!1&&i(c,t.modelValue)}),C(c,v=>{e.animate(),d("reveal",v)}),C(e.scroll,v=>{t.reveal===!0&&i(c,v.direction==="up"||v.position<=t.revealOffset||v.position-v.inflectionPoint<100)});const w={};return e.instances.header=w,t.modelValue===!0&&h("size",o.value),h("space",t.modelValue),h("offset",y.value),ke(()=>{e.instances.header===w&&(e.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const v=lt(l.default,[]);return t.elevated===!0&&v.push(L("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(L(St,{debounce:0,onResize:q})),L("header",{class:f.value,style:n.value,onFocusin:_},v)}}});function he(t,l,d){const k=ge(t);let e,o=k.left-l.event.x,c=k.top-l.event.y,g=Math.abs(o),y=Math.abs(c);const m=l.direction;m.horizontal===!0&&m.vertical!==!0?e=o<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?e=c<0?"up":"down":m.up===!0&&c<0?(e="up",g>y&&(m.left===!0&&o<0?e="left":m.right===!0&&o>0&&(e="right"))):m.down===!0&&c>0?(e="down",g>y&&(m.left===!0&&o<0?e="left":m.right===!0&&o>0&&(e="right"))):m.left===!0&&o<0?(e="left",g<y&&(m.up===!0&&c<0?e="up":m.down===!0&&c>0&&(e="down"))):m.right===!0&&o>0&&(e="right",g<y&&(m.up===!0&&c<0?e="up":m.down===!0&&c>0&&(e="down")));let r=!1;if(e===void 0&&d===!1){if(l.event.isFirst===!0||l.event.lastDir===void 0)return{};e=l.event.lastDir,r=!0,e==="left"||e==="right"?(k.left-=o,g=0,o=0):(k.top-=c,y=0,c=0)}return{synthetic:r,payload:{evt:t,touch:l.event.mouse!==!0,mouse:l.event.mouse===!0,position:k,direction:e,isFirst:l.event.isFirst,isFinal:d===!0,duration:Date.now()-l.event.time,distance:{x:g,y},offset:{x:o,y:c},delta:{x:k.left-l.event.lastX,y:k.top-l.event.lastY}}}}let Dt=0;const be=it({name:"touch-pan",beforeMount(t,{value:l,modifiers:d}){if(d.mouse!==!0&&U.has.touch!==!0)return;function k(o,c){d.mouse===!0&&c===!0?ut(o):(d.stop===!0&&ve(o),d.prevent===!0&&Se(o))}const e={uid:"qvtp_"+Dt++,handler:l,modifiers:d,direction:Ve(d),noop:nt,mouseStart(o){Fe(o,e)&&st(o)&&(J(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(o,!0))},touchStart(o){if(Fe(o,e)){const c=o.target;J(e,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","passiveCapture"],[c,"touchend","end","passiveCapture"]]),e.start(o)}},start(o,c){if(U.is.firefox===!0&&fe(t,!0),e.lastEvt=o,c===!0||d.stop===!0){if(e.direction.all!==!0&&(c!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const m=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Se(m),o.cancelBubble===!0&&ve(m),Object.assign(m,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[e.uid]:o.qClonedBy.concat(e.uid)}),e.initialEvent={target:o.target,event:m}}ve(o)}const{left:g,top:y}=ge(o);e.event={x:g,y,time:Date.now(),mouse:c===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:g,lastY:y}},move(o){if(e.event===void 0)return;const c=ge(o),g=c.left-e.event.x,y=c.top-e.event.y;if(g===0&&y===0)return;e.lastEvt=o;const m=e.event.mouse===!0,r=()=>{k(o,m);let h;d.preserveCursor!==!0&&d.preservecursor!==!0&&(h=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),xt(),e.styleCleanup=i=>{if(e.styleCleanup=void 0,h!==void 0&&(document.documentElement.style.cursor=h),document.body.classList.remove("non-selectable"),m===!0){const q=()=>{document.body.classList.remove("no-pointer-events--children")};i!==void 0?setTimeout(()=>{q(),i()},50):q()}else i!==void 0&&i()}};if(e.event.detected===!0){e.event.isFirst!==!0&&k(o,e.event.mouse);const{payload:h,synthetic:i}=he(o,e,!1);h!==void 0&&(e.handler(h)===!1?e.end(o):(e.styleCleanup===void 0&&e.event.isFirst===!0&&r(),e.event.lastX=h.position.left,e.event.lastY=h.position.top,e.event.lastDir=i===!0?void 0:h.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||m===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){r(),e.event.detected=!0,e.move(o);return}const f=Math.abs(g),n=Math.abs(y);f!==n&&(e.direction.horizontal===!0&&f>n||e.direction.vertical===!0&&f<n||e.direction.up===!0&&f<n&&y<0||e.direction.down===!0&&f<n&&y>0||e.direction.left===!0&&f>n&&g<0||e.direction.right===!0&&f>n&&g>0?(e.event.detected=!0,e.move(o)):e.end(o,!0))},end(o,c){if(e.event!==void 0){if(ce(e,"temp"),U.is.firefox===!0&&fe(t,!1),c===!0)e.styleCleanup?.(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(he(o===void 0?e.lastEvt:o,e).payload);const{payload:g}=he(o===void 0?e.lastEvt:o,e,!0),y=()=>{e.handler(g)};e.styleCleanup!==void 0?e.styleCleanup(y):y()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,d.mouse===!0){const o=d.mouseCapture===!0||d.mousecapture===!0?"Capture":"";J(e,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}U.has.touch===!0&&J(e,"main",[[t,"touchstart","touchStart",`passive${d.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,l){const d=t.__qtouchpan;d!==void 0&&(l.oldValue!==l.value&&(typeof value!="function"&&d.end(),d.handler=l.value),d.direction=Ve(l.modifiers))},beforeUnmount(t){const l=t.__qtouchpan;l!==void 0&&(l.event!==void 0&&l.end(),ce(l,"main"),ce(l,"temp"),U.is.firefox===!0&&fe(t,!1),l.styleCleanup?.(),delete t.__qtouchpan)}}),Ie=150,Lt=ae({name:"QDrawer",inheritAttrs:!1,props:{...ft,...ct,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...dt,"onLayout","miniState"],setup(t,{slots:l,emit:d,attrs:k}){const e=we(),{proxy:{$q:o}}=e,c=vt(t,o),{preventBodyScroll:g}=bt(),{registerTimeout:y,removeTimeout:m}=mt(),r=Ee(Ae,H);if(r===H)return console.error("QDrawer needs to be child of QLayout"),H;let f,n=null,h;const i=Q(t.behavior==="mobile"||t.behavior!=="desktop"&&r.totalWidth.value<=t.breakpoint),q=b(()=>t.mini===!0&&i.value!==!0),_=b(()=>q.value===!0?t.miniWidth:t.width),w=Q(t.showIfAbove===!0&&i.value===!1?!0:t.modelValue===!0),v=b(()=>t.persistent!==!0&&(i.value===!0||Re.value===!0));function z(a,p){if(He(),a!==!1&&r.animate(),S(0),i.value===!0){const $=r.instances[j.value];$?.belowBreakpoint===!0&&$.hide(!1),T(1),r.isContainer.value!==!0&&g(!0)}else T(0),a!==!1&&se(!1);y(()=>{a!==!1&&se(!0),p!==!0&&d("show",a)},Ie)}function Ce(a,p){We(),a!==!1&&r.animate(),T(0),S(I.value*_.value),ue(),p!==!0?y(()=>{d("hide",a)},Ie):m()}const{show:oe,hide:W}=pt({showing:w,hideOnRouteChange:v,handleShow:z,handleHide:Ce}),{addToHistory:He,removeFromHistory:We}=ht(w,W,v),Y={belowBreakpoint:i,hide:W},P=b(()=>t.side==="right"),I=b(()=>(o.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),_e=Q(0),E=Q(!1),re=Q(!1),xe=Q(_.value*I.value),j=b(()=>P.value===!0?"left":"right"),le=b(()=>w.value===!0&&i.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:_.value:0),ie=b(()=>t.overlay===!0||t.miniToOverlay===!0||r.view.value.indexOf(P.value?"R":"L")!==-1||o.platform.is.ios===!0&&r.isContainer.value===!0),R=b(()=>t.overlay===!1&&w.value===!0&&i.value===!1),Re=b(()=>t.overlay===!0&&w.value===!0&&i.value===!1),Ue=b(()=>"fullscreen q-drawer__backdrop"+(w.value===!1&&E.value===!1?" hidden":"")),Xe=b(()=>({backgroundColor:`rgba(0,0,0,${_e.value*.4})`})),qe=b(()=>P.value===!0?r.rows.value.top[2]==="r":r.rows.value.top[0]==="l"),Ye=b(()=>P.value===!0?r.rows.value.bottom[2]==="r":r.rows.value.bottom[0]==="l"),je=b(()=>{const a={};return r.header.space===!0&&qe.value===!1&&(ie.value===!0?a.top=`${r.header.offset}px`:r.header.space===!0&&(a.top=`${r.header.size}px`)),r.footer.space===!0&&Ye.value===!1&&(ie.value===!0?a.bottom=`${r.footer.offset}px`:r.footer.space===!0&&(a.bottom=`${r.footer.size}px`)),a}),Ke=b(()=>{const a={width:`${_.value}px`,transform:`translateX(${xe.value}px)`};return i.value===!0?a:Object.assign(a,je.value)}),Je=b(()=>"q-drawer__content fit "+(r.isContainer.value!==!0?"scroll":"overflow-auto")),Ge=b(()=>`q-drawer q-drawer--${t.side}`+(re.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(c.value===!0?" q-drawer--dark q-dark":"")+(E.value===!0?" no-transition":w.value===!0?"":" q-layout--prevent-focus")+(i.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${q.value===!0?"mini":"standard"}`+(ie.value===!0||R.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(qe.value===!0?" q-drawer--top-padding":""))),Ze=b(()=>{const a=o.lang.rtl===!0?t.side:j.value;return[[be,ot,void 0,{[a]:!0,mouse:!0}]]}),et=b(()=>{const a=o.lang.rtl===!0?j.value:t.side;return[[be,$e,void 0,{[a]:!0,mouse:!0}]]}),tt=b(()=>{const a=o.lang.rtl===!0?j.value:t.side;return[[be,$e,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function ne(){rt(i,t.behavior==="mobile"||t.behavior!=="desktop"&&r.totalWidth.value<=t.breakpoint)}C(i,a=>{a===!0?(f=w.value,w.value===!0&&W(!1)):t.overlay===!1&&t.behavior!=="mobile"&&f!==!1&&(w.value===!0?(S(0),T(0),ue()):oe(!1))}),C(()=>t.side,(a,p)=>{r.instances[p]===Y&&(r.instances[p]=void 0,r[p].space=!1,r[p].offset=0),r.instances[a]=Y,r[a].size=_.value,r[a].space=R.value,r[a].offset=le.value}),C(r.totalWidth,()=>{(r.isContainer.value===!0||document.qScrollPrevented!==!0)&&ne()}),C(()=>t.behavior+t.breakpoint,ne),C(r.isContainer,a=>{w.value===!0&&g(a!==!0),a===!0&&ne()}),C(r.scrollbarWidth,()=>{S(w.value===!0?0:void 0)}),C(le,a=>{O("offset",a)}),C(R,a=>{d("onLayout",a),O("space",a)}),C(P,()=>{S()}),C(_,a=>{S(),de(t.miniToOverlay,a)}),C(()=>t.miniToOverlay,a=>{de(a,_.value)}),C(()=>o.lang.rtl,()=>{S()}),C(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(at(),r.animate())}),C(q,a=>{d("miniState",a)});function S(a){a===void 0?Be(()=>{a=w.value===!0?0:_.value,S(I.value*a)}):(r.isContainer.value===!0&&P.value===!0&&(i.value===!0||Math.abs(a)===_.value)&&(a+=I.value*r.scrollbarWidth.value),xe.value=a)}function T(a){_e.value=a}function se(a){const p=a===!0?"remove":r.isContainer.value!==!0?"add":"";p!==""&&document.body.classList[p]("q-body--drawer-toggle")}function at(){n!==null&&clearTimeout(n),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),re.value=!0,n=setTimeout(()=>{n=null,re.value=!1,e?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function ot(a){if(w.value!==!1)return;const p=_.value,$=te(a.distance.x,0,p);if(a.isFinal===!0){$>=Math.min(75,p)===!0?oe():(r.animate(),T(0),S(I.value*p)),E.value=!1;return}S((o.lang.rtl===!0?P.value!==!0:P.value)?Math.max(p-$,0):Math.min(0,$-p)),T(te($/p,0,1)),a.isFirst===!0&&(E.value=!0)}function $e(a){if(w.value!==!0)return;const p=_.value,$=a.direction===t.side,K=(o.lang.rtl===!0?$!==!0:$)?te(a.distance.x,0,p):0;if(a.isFinal===!0){Math.abs(K)<Math.min(75,p)===!0?(r.animate(),T(1),S(0)):W(),E.value=!1;return}S(I.value*K),T(te(1-K/p,0,1)),a.isFirst===!0&&(E.value=!0)}function ue(){g(!1),se(!0)}function O(a,p){r.update(t.side,a,p)}function rt(a,p){a.value!==p&&(a.value=p)}function de(a,p){O("size",a===!0?t.miniWidth:p)}return r.instances[t.side]=Y,de(t.miniToOverlay,_.value),O("space",R.value),O("offset",le.value),t.showIfAbove===!0&&t.modelValue!==!0&&w.value===!0&&t["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),Ne(()=>{d("onLayout",R.value),d("miniState",q.value),f=t.showIfAbove===!0;const a=()=>{(w.value===!0?z:Ce)(!1,!0)};if(r.totalWidth.value!==0){Be(a);return}h=C(r.totalWidth,()=>{h(),h=void 0,w.value===!1&&t.showIfAbove===!0&&i.value===!1?oe(!1):a()})}),ke(()=>{h?.(),n!==null&&(clearTimeout(n),n=null),w.value===!0&&ue(),r.instances[t.side]===Y&&(r.instances[t.side]=void 0,O("size",0),O("offset",0),O("space",!1))}),()=>{const a=[];i.value===!0&&(t.noSwipeOpen===!1&&a.push(X(L("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),Ze.value)),a.push(Qe("div",{ref:"backdrop",class:Ue.value,style:Xe.value,"aria-hidden":"true",onClick:W},void 0,"backdrop",t.noSwipeBackdrop!==!0&&w.value===!0,()=>tt.value)));const p=q.value===!0&&l.mini!==void 0,$=[L("div",{...k,key:""+p,class:[Je.value,k.class]},p===!0?l.mini():ye(l.default))];return t.elevated===!0&&w.value===!0&&$.push(L("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(Qe("aside",{ref:"content",class:Ge.value,style:Ke.value},$,"contentclose",t.noSwipeClose!==!0&&i.value===!0,()=>et.value)),L("div",{class:"q-drawer-container"},a)}}}),Tt={class:"q-pa-xs text-bold"},Ot={class:"q-mr-sm"},Vt={class:"text-center",style:{"line-height":"1"}},Ft={style:{width:"100px","white-space":"normal","overflow-wrap":"break-word"}},Zt={__name:"MainLayout",setup(t){const{proxy:l}=we(),d=Q([]),k=Q(!1),e=Q(0),o=Q([]),c="v1.7.9";Ne(()=>{JSON.parse(localStorage.getItem("user"));const f=[{title:"Principal",icon:"home",link:"/",always:!0},{title:"Usuarios",icon:"people",link:"/usuarios",perm:"Usuarios"},{title:"Impuestos",icon:"percent",link:"/impuestos",perm:"Impuestos"},{title:"Productos",icon:"shopping_cart",link:"/productos",perm:"Productos"},{title:"Clientes",icon:"groups",link:"/clientes",perm:"Clientes"},{title:"Nueva Cliente",icon:"person_add",link:"/alta-cliente",perm:"Clientes"},{title:"Ventas",icon:"shopping_bag",link:"/venta",perm:"Ventas"},{title:"Nueva Venta",icon:"add_shopping_cart",link:"/ventaNuevo",perm:"Nueva Venta"},{title:"Proveedores",icon:"manage_accounts",link:"/proveedores",perm:"Proveedores"},{title:"Compras",icon:"storefront",link:"/compras",perm:"Compras"},{title:"Compras Nueva",icon:"shopping_basket",link:"/compras-create",perm:"Nueva Compra"},{title:"Productos por vencer",icon:"warning",link:"/productos-vencer",perm:"Productos por vencer"},{title:"Productos vencidos",icon:"do_not_touch",link:"/productos-vencidos",perm:"Productos vencidos"},{title:"Pedidos",icon:"real_estate_agent",link:"/pedidos",perm:"Pedidos"},{title:"Visitas",icon:"map",link:"/visitas",perm:"Pedidos"},{title:"Mis pedidos",icon:"playlist_add_check",link:"/mis-pedidos",perm:"Pedidos"},{title:"Mis pedidos totales",icon:"summarize",link:"/mis-pedidos-totales",perm:"Mis pedidos totales"},{title:"Mapa cliente",icon:"map",link:"/mapa-cliente",perm:"Mapa cliente"},{title:"Mapa zonas",icon:"palette",link:"/mapa-zonas",perm:"Mapa cliente zonas"},{title:"Auxiliar de camara",icon:"warehouse",link:"/auxiliar-camara",perm:"Auxiliar de camara"},{title:"Digitador factura",icon:"receipt_long",link:"/digitador-factura",perm:"Digitador factura"},{title:"Cobranzas deudas",icon:"payments",link:"/cobranzas",perm:"Cobranzas"},{title:"Historial cobranzas",icon:"history",link:"/historial-cobranzas",perm:"Cobranzas"},{title:"Rutas",icon:"route",link:"/rutas-camion",perm:"Rutas",esCamion:!0},{title:"Despacho",icon:"local_shipping",link:"/despacho-camion",perm:"Despacho",esCamion:!0},{title:"Realizar pedido",icon:"shopping_cart_checkout",link:"/pedidosCompra",perm:"Nuevo Pedido"}];d.value=f,r()}),ke(()=>{});function g(){k.value=!k.value}function y(){l.$alert.dialog("¿Desea salir del sistema?").onOk(()=>{l.$axios.post("/logout").then(()=>{l.$store.isLogged=!1,l.$store.user={},localStorage.removeItem("tokenSofiaFactu"),localStorage.removeItem("user"),l.$alert.success("Sesión cerrada","Éxito"),l.$router.push("/login")}).catch(()=>{l.$store.isLogged=!1,l.$store.user={},localStorage.removeItem("tokenSofiaFactu"),localStorage.removeItem("user"),l.$alert.success("Sesión cerrada","Éxito"),l.$router.push("/login")})})}function m(f){if(!f||!l.$store?.user)return!1;if(f.always)return!0;const n=!!l.$store.user.es_camion,h=String(l.$store.user.role||"").toUpperCase()==="COBRADOR",i=(l.$store.permissions||[]).map(_=>typeof _=="string"?_:_?.name).filter(Boolean),q=f.perm||f.title;return i.includes(q)||q==="Cobranzas"&&h?!0:!!f.esCamion&&n}function r(f=!1){l.$axios.get("/impuestos/fallas").then(n=>{e.value=n.data?.pending||0,o.value=(n.data?.data||[]).filter(h=>h.estado==="pendiente")}).catch(n=>{f&&l.$alert.error(n?.response?.data?.message||"No se pudieron cargar fallas de impuestos")})}return(f,n)=>{const h=gt("router-view");return B(),D(Qt,{view:"lHh Lpr lFf"},{default:s(()=>[u(Pt,{class:"bg-white text-black",bordered:""},{default:s(()=>[u(Mt,null,{default:s(()=>[u(ze,{dense:"",rounded:"",color:"primary",icon:k.value?"keyboard_double_arrow_left":"keyboard_double_arrow_right","aria-label":"Menu",size:"10px",onClick:g,unelevated:""},null,8,["icon"]),A("span",Tt,V(yt(c)),1),u(zt),A("div",Ot,[u(ze,{flat:"",round:"",dense:"",icon:"notifications",onClick:r},{default:s(()=>[e.value>0?(B(),D(Ct,{key:0,color:"negative",floating:""},{default:s(()=>[x(V(e.value),1)]),_:1})):G("",!0),u(_t,null,{default:s(()=>n[2]||(n[2]=[x("Fallas CUFD")])),_:1}),u(qt,null,{default:s(()=>[u(Le,{style:{"min-width":"360px","max-width":"420px"}},{default:s(()=>[u(F,{header:""},{default:s(()=>n[3]||(n[3]=[x(" Alertas de impuestos ")])),_:1}),o.value.length===0?(B(),D(N,{key:0},{default:s(()=>[u(M,null,{default:s(()=>n[4]||(n[4]=[x("Sin fallas pendientes")])),_:1})]),_:1})):G("",!0),(B(!0),me(pe,null,Me(o.value.slice(0,5),i=>(B(),D(N,{key:i.id},{default:s(()=>[u(M,null,{default:s(()=>[u(F,{class:"text-negative text-weight-bold"},{default:s(()=>n[5]||(n[5]=[x("Fallo generación CUFD")])),_:1}),u(F,{caption:""},{default:s(()=>[x(V(i.mensaje),1)]),_:2},1024),u(F,{caption:""},{default:s(()=>[x(V(i.detalle?.error||""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),u(wt),X((B(),D(N,{clickable:"",onClick:n[0]||(n[0]=i=>f.$router.push("/impuestos"))},{default:s(()=>[u(M,{avatar:""},{default:s(()=>[u(Z,{name:"settings"})]),_:1}),u(M,null,{default:s(()=>n[6]||(n[6]=[x("Ir a Impuestos / Ajustes")])),_:1})]),_:1})),[[ee]])]),_:1})]),_:1})]),_:1})]),A("div",null,[u($t,{flat:"",unelevated:"","no-caps":"",dropdownIcon:"expand_more"},{label:s(()=>[u(Pe,{rounded:""},{default:s(()=>[f.$store.user.avatar?(B(),D(Te,{key:0,src:f.$url+"../images/"+f.$store.user.avatar},null,8,["src"])):G("",!0)]),_:1}),A("div",Vt,[A("div",Ft,[x(V(f.$store.user.name)+" ",1),n[7]||(n[7]=A("br",null,null,-1)),u(Oe,{color:"red",dense:"",size:"xs",class:"text-white"},{default:s(()=>[x(V(f.$store.user.role),1)]),_:1}),u(Oe,{color:f.$store.user.es_camion?"teal":"grey",dense:"",size:"xs",class:"text-white q-ml-xs"},{default:s(()=>[x(" Camión: "+V(f.$store.user.es_camion?"Sí":"No"),1)]),_:1},8,["color"])])])]),default:s(()=>[X((B(),D(N,{clickable:"",onClick:y},{default:s(()=>[u(M,{avatar:""},{default:s(()=>[u(Z,{name:"logout"})]),_:1}),u(M,null,{default:s(()=>[u(F,null,{default:s(()=>n[8]||(n[8]=[x("Salir")])),_:1})]),_:1})]),_:1})),[[kt],[ee]])]),_:1})])]),_:1})]),_:1}),u(Lt,{modelValue:k.value,"onUpdate:modelValue":n[1]||(n[1]=i=>k.value=i),bordered:"","show-if-above":"",width:200,breakpoint:500,class:"bg-primary text-white"},{default:s(()=>[u(Le,null,{default:s(()=>[u(F,{header:"",class:"text-center"},{default:s(()=>[u(Pe,{size:"80px",class:"bg-white",rounded:""},{default:s(()=>[u(Te,{src:"/logo.png",width:"100px"})]),_:1})]),_:1}),(B(!0),me(pe,null,Me(d.value,i=>(B(),me(pe,{key:i.title},[m(i)?X((B(),D(N,{key:0,clickable:"",to:i.link,exact:"",class:"text-black","active-class":"menu",dense:""},{default:s(()=>[u(M,{avatar:""},{default:s(()=>[u(Z,{name:f.$route.path===i.link?"o_"+i.icon:i.icon,class:De(f.$route.path===i.link?"text-black":"")},null,8,["name","class"])]),_:2},1024),u(M,null,{default:s(()=>[u(F,{class:De(f.$route.path===i.link?`text-black text-bold ${i.color}`:"")},{default:s(()=>[x(V(i.title),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["to"])),[[ee]]):G("",!0)],64))),128)),X((B(),D(N,{clickable:"",class:"text-black",onClick:y},{default:s(()=>[u(M,{avatar:""},{default:s(()=>[u(Z,{name:"logout"})]),_:1}),u(M,null,{default:s(()=>[u(F,null,{default:s(()=>n[9]||(n[9]=[x("Salir")])),_:1})]),_:1})]),_:1})),[[ee]])]),_:1})]),_:1},8,["modelValue"]),u(Bt,{class:"bg-grey-3"},{default:s(()=>[u(h)]),_:1})]),_:1})}}};export{Zt as default};
